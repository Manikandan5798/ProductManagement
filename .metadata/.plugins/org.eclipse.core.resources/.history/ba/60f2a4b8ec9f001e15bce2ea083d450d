package com.product.services;

import java.util.Optional;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import com.product.model.Product;
import com.product.repository.ProductRepo;


@Service
public class ProductServices {

	@Autowired
	public ProductRepo productRepo;
	
	
	public Product saveProduct(Product product) {
		
		return productRepo.save(product);
	}

	public Product fetchBikeById(Long id) {
		
		Optional<Product> product =
                productRepo.findById(id);

        if(!product.isPresent()) {
            throw new ProductNotFoundException("Product", "Id", id);
        }

        return  product.get();
	}
	}

	public void deleteProductById(Long id) {
		
		Optional<Product> product =
                productRepo.findById(id);

        if(product.isPresent()) {
            
        	productRepo.deleteById(id);
        	System.out.println("deleted successfully");
        }
        else {
        	throw new ProductNotFoundException("Bike", "Id", id);
        }
        
		;
		
	}

	public Product updateProductDetails(Product product, Long id) {
		
		return null;
	}

	public Product fetchAllProduct() {
		
		return null;
	}

}
